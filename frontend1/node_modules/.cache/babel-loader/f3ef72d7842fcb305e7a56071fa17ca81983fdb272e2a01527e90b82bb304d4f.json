{"ast":null,"code":"// import React, { useState, useEffect } from \"react\";\n// import { getPeliculas, addPelicula } from \"../../services/api\";\n// import \"../../styles/PeliculasList.css\";\n\n// const PeliculasList = () => {\n//     const [peliculas, setPeliculas] = useState([]);\n//     const [titulo, setTitulo] = useState(\"\");\n//     const [anio_estreno, setAnioEstreno] = useState(\"\");\n//     const [sinopsis, setSinopsis] = useState(\"\");\n//     const [imagen, setImagen] = useState(\"\");\n//     const [url, setUrl] = useState(\"\");\n\n//     useEffect(() => {\n//         getPeliculas().then(setPeliculas);\n//     }, []);\n\n//     const handleSubmit = async (e) => {\n//         e.preventDefault();\n\n//         const nuevaPelicula = {\n//             serial: `SERIAL-${Date.now()}`, // Generar un serial único\n//             titulo,\n//             sinopsis,\n//             url,\n//             imagen,\n//             anio_estreno: parseInt(anio_estreno), // Asegurar que sea número\n//             genero_id: 1, // Poner un ID válido de género\n//             director_id: 1, // Poner un ID válido de director\n//             productora_id: 1, // Poner un ID válido de productora\n//             tipo_id: 1 // Poner un ID válido de tipo\n//         };\n\n//         try {\n//             await addPelicula(nuevaPelicula);\n//             alert(\"✅ Película agregada correctamente!\");\n//             setTitulo(\"\");\n//             setAnioEstreno(\"\");\n//             setSinopsis(\"\");\n//             setImagen(\"\");\n//             setUrl(\"\");\n//             getPeliculas().then(setPeliculas);\n//         } catch (error) {\n//             console.error(\"❌ Error al agregar película:\", error);\n//             alert(\"❌ No se pudo agregar la película. Revisa la consola.\");\n//         }\n//     };\n\n//     return (\n//         <div className=\"peliculas-container\">\n//             <h2>Lista de Películas</h2>\n\n//             {/* Formulario para agregar nueva película */}\n//             <form onSubmit={handleSubmit} className=\"pelicula-form\">\n//                 <input \n//                     type=\"text\" \n//                     placeholder=\"Título\" \n//                     value={titulo} \n//                     onChange={(e) => setTitulo(e.target.value)} \n//                     required \n//                 />\n//                 <input \n//                     type=\"number\" \n//                     placeholder=\"Año de estreno\" \n//                     value={anio_estreno} \n//                     onChange={(e) => setAnioEstreno(e.target.value)} \n//                     required \n//                 />\n//                 <textarea \n//                     placeholder=\"Sinopsis\"\n//                     value={sinopsis}\n//                     onChange={(e) => setSinopsis(e.target.value)}\n//                 />\n//                 <input \n//                     type=\"text\" \n//                     placeholder=\"URL de la imagen\" \n//                     value={imagen} \n//                     onChange={(e) => setImagen(e.target.value)} \n//                     required \n//                 />\n//                 <input \n//                     type=\"text\" \n//                     placeholder=\"Enlace de la película\" \n//                     value={url} \n//                     onChange={(e) => setUrl(e.target.value)} \n//                 />\n//                 <button type=\"submit\">Agregar Película</button>\n//             </form>\n\n//             {/* Lista de películas */}\n//             <div className=\"peliculas-grid\">\n//                 {peliculas.map((pelicula) => (\n//                     <div key={pelicula.id} className=\"pelicula-card\">\n//                         <img src={pelicula.imagen} alt={pelicula.titulo} className=\"pelicula-img\"/>\n//                         <div className=\"pelicula-info\">\n//                             <h3>{pelicula.titulo}</h3>\n//                             <p><strong>Año:</strong> {pelicula.anio_estreno}</p>\n//                             <p><strong>Sinopsis:</strong> {pelicula.sinopsis || \"No disponible\"}</p>\n//                             <a href={pelicula.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"ver-mas-btn\">Ver más</a>\n//                         </div>\n//                     </div>\n//                 ))}\n//             </div>\n//         </div>\n//     );\n// };\n\n// export default PeliculasList;","map":{"version":3,"names":[],"sources":["C:/Users/diego.bedoya/Documents/Iudigital/IngenieriaWeb2/Actividad2/frontend/src/pages/Peliculas/PeliculasList.js"],"sourcesContent":["// import React, { useState, useEffect } from \"react\";\r\n// import { getPeliculas, addPelicula } from \"../../services/api\";\r\n// import \"../../styles/PeliculasList.css\";\r\n\r\n// const PeliculasList = () => {\r\n//     const [peliculas, setPeliculas] = useState([]);\r\n//     const [titulo, setTitulo] = useState(\"\");\r\n//     const [anio_estreno, setAnioEstreno] = useState(\"\");\r\n//     const [sinopsis, setSinopsis] = useState(\"\");\r\n//     const [imagen, setImagen] = useState(\"\");\r\n//     const [url, setUrl] = useState(\"\");\r\n\r\n//     useEffect(() => {\r\n//         getPeliculas().then(setPeliculas);\r\n//     }, []);\r\n\r\n//     const handleSubmit = async (e) => {\r\n//         e.preventDefault();\r\n    \r\n//         const nuevaPelicula = {\r\n//             serial: `SERIAL-${Date.now()}`, // Generar un serial único\r\n//             titulo,\r\n//             sinopsis,\r\n//             url,\r\n//             imagen,\r\n//             anio_estreno: parseInt(anio_estreno), // Asegurar que sea número\r\n//             genero_id: 1, // Poner un ID válido de género\r\n//             director_id: 1, // Poner un ID válido de director\r\n//             productora_id: 1, // Poner un ID válido de productora\r\n//             tipo_id: 1 // Poner un ID válido de tipo\r\n//         };\r\n    \r\n//         try {\r\n//             await addPelicula(nuevaPelicula);\r\n//             alert(\"✅ Película agregada correctamente!\");\r\n//             setTitulo(\"\");\r\n//             setAnioEstreno(\"\");\r\n//             setSinopsis(\"\");\r\n//             setImagen(\"\");\r\n//             setUrl(\"\");\r\n//             getPeliculas().then(setPeliculas);\r\n//         } catch (error) {\r\n//             console.error(\"❌ Error al agregar película:\", error);\r\n//             alert(\"❌ No se pudo agregar la película. Revisa la consola.\");\r\n//         }\r\n//     };\r\n    \r\n\r\n//     return (\r\n//         <div className=\"peliculas-container\">\r\n//             <h2>Lista de Películas</h2>\r\n\r\n//             {/* Formulario para agregar nueva película */}\r\n//             <form onSubmit={handleSubmit} className=\"pelicula-form\">\r\n//                 <input \r\n//                     type=\"text\" \r\n//                     placeholder=\"Título\" \r\n//                     value={titulo} \r\n//                     onChange={(e) => setTitulo(e.target.value)} \r\n//                     required \r\n//                 />\r\n//                 <input \r\n//                     type=\"number\" \r\n//                     placeholder=\"Año de estreno\" \r\n//                     value={anio_estreno} \r\n//                     onChange={(e) => setAnioEstreno(e.target.value)} \r\n//                     required \r\n//                 />\r\n//                 <textarea \r\n//                     placeholder=\"Sinopsis\"\r\n//                     value={sinopsis}\r\n//                     onChange={(e) => setSinopsis(e.target.value)}\r\n//                 />\r\n//                 <input \r\n//                     type=\"text\" \r\n//                     placeholder=\"URL de la imagen\" \r\n//                     value={imagen} \r\n//                     onChange={(e) => setImagen(e.target.value)} \r\n//                     required \r\n//                 />\r\n//                 <input \r\n//                     type=\"text\" \r\n//                     placeholder=\"Enlace de la película\" \r\n//                     value={url} \r\n//                     onChange={(e) => setUrl(e.target.value)} \r\n//                 />\r\n//                 <button type=\"submit\">Agregar Película</button>\r\n//             </form>\r\n\r\n//             {/* Lista de películas */}\r\n//             <div className=\"peliculas-grid\">\r\n//                 {peliculas.map((pelicula) => (\r\n//                     <div key={pelicula.id} className=\"pelicula-card\">\r\n//                         <img src={pelicula.imagen} alt={pelicula.titulo} className=\"pelicula-img\"/>\r\n//                         <div className=\"pelicula-info\">\r\n//                             <h3>{pelicula.titulo}</h3>\r\n//                             <p><strong>Año:</strong> {pelicula.anio_estreno}</p>\r\n//                             <p><strong>Sinopsis:</strong> {pelicula.sinopsis || \"No disponible\"}</p>\r\n//                             <a href={pelicula.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"ver-mas-btn\">Ver más</a>\r\n//                         </div>\r\n//                     </div>\r\n//                 ))}\r\n//             </div>\r\n//         </div>\r\n//     );\r\n// };\r\n\r\n// export default PeliculasList;\r\n"],"mappings":"AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}